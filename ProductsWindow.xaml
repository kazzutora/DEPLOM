<Window x:Class="WpfApp1.ProductsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:WpfApp1"
        Title="Управління продуктами" Height="500" Width="850">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <TextBlock Text="Список продуктів" FontSize="18" FontWeight="Bold" Margin="10"/>

        <!-- Фільтр за категорією та пошук -->
        <StackPanel Orientation="Horizontal" Margin="198,10,10,10" Grid.Row="0">
            <TextBlock Text="Фільтр за категорією: " FontWeight="Bold" VerticalAlignment="Center"/>
            <ComboBox x:Name="CategoryFilterComboBox" Width="200" SelectionChanged="CategoryFilterComboBox_SelectionChanged"/>
            <TextBlock Text="Пошук: " FontWeight="Bold" VerticalAlignment="Center" Margin="10,0,0,0"/>
            <TextBox x:Name="SearchTextBox" Width="200" TextChanged="SearchTextBox_TextChanged"/>
        </StackPanel>

        <!-- ListBox для відображення продуктів -->
        <ListBox x:Name="ProductsListBox" Grid.Row="1" Margin="10" SelectionMode="Single">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border BorderThickness="1" BorderBrush="Gray" CornerRadius="8" Padding="10" Margin="5" Background="White">
                        <StackPanel HorizontalAlignment="Center">
                            <Image Source="{Binding ProductImage}" Width="150" Height="150" Stretch="UniformToFill"/>
                            <TextBlock Text="{Binding Name}" FontWeight="Bold" FontSize="14" HorizontalAlignment="Center"/>
                            <TextBlock Text="{Binding Category}" FontStyle="Italic" HorizontalAlignment="Center"/>
                            <TextBlock>
                                <Run Text="Кількість: "/>
                                <Run Text="{Binding Quantity}"/>
                            </TextBlock>

                            <TextBlock FontWeight="Bold">
                                <Run Text="Ціна: "/>
                                <Run Text="{Binding Price}"/>
                            </TextBlock>
                            <!-- Оновлений блок з тригерами -->
                            <TextBlock Text="Немає в наявності" Foreground="Red" FontWeight="Bold" HorizontalAlignment="Center">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Quantity}" Value="0">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>

        <!-- Кнопки управління -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="10">
            <Button Content="Додати" Click="AddProduct_Click" Background="Green" Foreground="White" Margin="5"/>
            <Button Content="Редагувати" Click="EditProduct_Click" Background="Orange" Foreground="White" Margin="5"/>
            <Button Content="Видалити" Click="DeleteProduct_Click" Background="Red" Foreground="White" Margin="5"/>
        </StackPanel>
    </Grid>
</Window>